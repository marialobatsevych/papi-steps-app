# Notification Settings System

## Overview
–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Papi Steps –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–Ω–∏ —Ö–æ—Ç—è—Ç –ø–æ–ª—É—á–∞—Ç—å.

## Features

### Settings Screen (Menu ‚Üí Settings ‚Üí Notifications)

–°–µ–∫—Ü–∏—è Notifications –≤ —ç–∫—Ä–∞–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

#### üîî All Notifications
- **Master toggle** - —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ —Å—Ä–∞–∑—É
- –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ "All Notifications" –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏
- –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –≤—Å–µ—Ö –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫, "All Notifications" –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è

#### üíå Friend Messages
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –æ—Ç –¥—Ä—É–∑–µ–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–ø—Ä–æ—Å–∞—Ö –¥—Ä—É–∂–±—ã
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥—Ä—É–∑–µ–π
- **–ì—Ä–∞–¥–∏–µ–Ω—Ç:** –†–æ–∑–æ–≤—ã–π (#FFB7C5 ‚Üí #F9B4C9)

#### üéæ Papi Status
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≥–æ–ª–æ–¥–µ Papi (Hunger Alert)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å—Ç–∞–ª–æ—Å—Ç–∏ Papi (Energy Alert)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–∫—É–∫–µ Papi (Fun Alert)
- **–ì—Ä–∞–¥–∏–µ–Ω—Ç:** –õ–∞–≤–∞–Ω–¥–æ–≤—ã–π (#C8B8FF ‚Üí #BDB2FF)

#### ‚è∞ Daily Reminders
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≤—Ö–æ–¥–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Daily Reward
- **–ì—Ä–∞–¥–∏–µ–Ω—Ç:** –ñ—ë–ª—Ç—ã–π (#FFD66C ‚Üí #FFF2B2)

## Technical Implementation

### Files

1. **`/components/screens/KawaiiSettingsScreen.tsx`**
   - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - –†–∞—Å–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è —Å–µ–∫—Ü–∏—è —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ localStorage

2. **`/utils/notificationSettings.ts`**
   - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - LocalStorage —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

3. **`/utils/notificationSystem.ts`**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –í—Å–µ notification creators —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `Notification | null`

### Storage

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `localStorage` –ø–æ–¥ –∫–ª—é—á–æ–º `'notificationSettings'`:

```typescript
interface NotificationSettings {
  all: boolean;
  friendMessages: boolean;
  papiStatus: boolean;
  dailyReminders: boolean;
}
```

### API Functions

```typescript
// Get current settings
getNotificationSettings(): NotificationSettings

// Save settings
saveNotificationSettings(settings: NotificationSettings): void

// Check if specific type is enabled
isNotificationEnabled(type: keyof NotificationSettings): boolean

// Helper functions
canShowFriendMessageNotification(): boolean
canShowPapiStatusNotification(): boolean
canShowDailyReminderNotification(): boolean
```

## UI/UX Features

### Visual Design
- **–†–∞—Å–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è —Å–µ–∫—Ü–∏—è** —Å chevron –∏–∫–æ–Ω–∫–æ–π (‚Üì/‚Üë)
- **–¶–≤–µ—Ç–Ω—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã** –Ω–∞ Switch –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- **Disabled —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–≥–¥–∞ "All" –≤—ã–∫–ª—é—á–µ–Ω
- **Info block** —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö iOS

### Behavior
- –ö–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç/—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- Master toggle –≤—ã–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –í–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç master toggle
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

## Usage Example

```typescript
import { 
  canShowPapiStatusNotification,
  canShowFriendMessageNotification 
} from './utils/notificationSettings';

// Before creating a notification
if (canShowPapiStatusNotification()) {
  createHungerAlert();
}

if (canShowFriendMessageNotification()) {
  createMessageNotification(friendName, message);
}
```

## Integration with iOS

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–∫–ª—é—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö iOS:

> üí° **Note:** Notification permissions are managed through your device settings. Make sure to enable notifications for Papi Steps in your iOS Settings.

–≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç **–≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ** –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º iOS, –ø–æ–∑–≤–æ–ª—è—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–∏–ø–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
